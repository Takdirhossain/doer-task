<div class="mt-5">
  <h2>Login Logs</h2>

  <div class="flex gap-3 items-center mt-3">
    <mat-form-field appearance="outline">
      <mat-label>Items per page</mat-label>
      <mat-select [value]="pagination.limit">
        <mat-option (selectionChange)="onLimitChange(10)" [value]="10">10</mat-option>
        <mat-option (selectionChange)="onLimitChange(20)" [value]="20">20</mat-option>
        <mat-option (selectionChange)="onLimitChange(30)" [value]="30">30</mat-option>
        <mat-option (selectionChange)="onLimitChange(40)" [value]="40">40</mat-option>
        <mat-option (selectionChange)="onLimitChange(50)" [value]="50">50</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

<div class="table-container" >
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 w-full mt-3">
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>ID</th>
      <td mat-cell *matCellDef="let log">{{ log.id }}</td>
    </ng-container>

    <ng-container matColumnDef="ipAddress">
      <th mat-header-cell *matHeaderCellDef>IP Address</th>
      <td mat-cell *matCellDef="let log">{{ log.ipAddress }}</td>
    </ng-container>

    <ng-container matColumnDef="userAgent">
      <th mat-header-cell *matHeaderCellDef>User Agent</th>
      <td mat-cell *matCellDef="let log">{{ log.userAgent }}</td>
    </ng-container>

    <ng-container matColumnDef="message">
      <th mat-header-cell *matHeaderCellDef>Message</th>
      <td mat-cell *matCellDef="let log">{{ log.message }}</td>
    </ng-container>

    <ng-container matColumnDef="actionType">
      <th mat-header-cell *matHeaderCellDef>Action</th>
      <td mat-cell *matCellDef="let log">
        {{ log.actionType | titlecase }}
      </td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let log">
        <span [ngClass]="log.status === 'success' ? 'text-green-600' : 'text-red-600'">
          {{ log.status | titlecase }}
        </span>
      </td>
    </ng-container>

    <ng-container matColumnDef="actionTime">
      <th mat-header-cell *matHeaderCellDef>Action Time</th>
      <td mat-cell *matCellDef="let log">
        {{ log.actionTime | date : 'short' }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns" class="hover:bg-gray-50"></tr>
  </table>

  <mat-paginator
    [length]="pagination.total"
    [pageIndex]="pagination.page - 1"
    [pageSize]="pagination.limit"
    [pageSizeOptions]="pageSizeOptions"
    (page)="onPageChange($event)"
    class="mt-3"
  >
  </mat-paginator>
</div>
</div>
